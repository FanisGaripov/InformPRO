{% extends "base.html" %}

{% block title %}<title>InformPRO - {{ category }}</title>{% endblock %}
{% block description %}<meta name="description" content="InformPRO - –ó–∞–¥–∞–Ω–∏—è –û–ì–≠ –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ –Ω–∞ —Ç–µ–º—É: {{ category }}">{% endblock %}
{% block content %}
<div class="container">
    <h1>–ó–∞–¥–∞–Ω–∏—è –û–ì–≠ –ø–æ —Ç–µ–º–µ: {{ category }}</h1>
    <div class="tasks-container">
        {% for task in tasks %}
        <div class="task-item">
            <h3>–ó–∞–¥–∞–Ω–∏–µ {{ loop.index }}</h3>
            <p><strong>{{ task.type }}</strong></p>
            <div class="task-text">{{ task.text }}</div>
            {% if task.image %}
            <img src="{{ task.image }}" class="task-image" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è">
            {% endif %}
        </div>
        <br>
        {% endfor %}
    </div>
</div>


<button style="color: black; background-color: white;" id="toggle-compiler" class="compiler-toggle-btn">üñ•Ô∏è –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞</button>

<div class="compiler-wrapper" id="compiler-wrapper">
    <iframe
        src="https://onecompiler.com/embed/python?theme=light"
        class="compiler-frame"
        title="Online Python Compiler"
        allow="clipboard-write"
    ></iframe>
</div>

<style>
    .image-container {
        text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è */
        margin: 1.5rem 0; /* –û—Ç—Å—Ç—É–ø—ã —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É */
    }

    .content-image {
        max-width: 100%; /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É */
        height: auto; /* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–π */
        border-radius: 10px; /* –ó–∞–∫—Ä—É–≥–ª—è–µ–º —É–≥–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
    }

    .content-text {
        margin: 1.5rem 0; /* –û—Ç—Å—Ç—É–ø—ã –¥–ª—è —Ç–µ–∫—Å—Ç–∞ */
        line-height: 1.6; /* –í—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
    }
    .container {
        width: 100%;
        max-width: 900px;
        margin: 0 auto;
        border-radius: 15px;
        padding: 2rem;
        margin-top: 70px;
        transition: margin-right 0.3s ease; /* –ê–Ω–∏–º–∞—Ü–∏—è —Å–¥–≤–∏–≥–∞ */
    }

    .compiler-wrapper {
        position: fixed;
        top: 0;
        right: -50%; /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç */
        width: 50%;
        height: 100vh;
        background: white;
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        transition: right 0.3s ease;
        overflow: hidden;
    }

    .compiler-wrapper.active {
        right: 0;
    }

    .compiler-active .container {
        margin-right: 50%;
    }

    .compiler-toggle-btn {
        position: fixed;
        right: 20px;
        bottom: 20px;
        padding: 10px 15px;
        background: var(--accent-color);
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        z-index: 1001;
    }

    .compiler-frame {
        width: 100%;
        height: 100%;
        border: none;
    }
    @media (max-width: 768px) {
        .compiler-wrapper {
            width: 80%;
            right: -80%;
        }
        .compiler-active .container {
            margin-right: 80%;
        }
    }
</style>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const toggleBtn = document.getElementById('toggle-compiler');
        const compilerWrapper = document.getElementById('compiler-wrapper');
        const container = document.querySelector('.container');

        toggleBtn.addEventListener('click', function() {
            compilerWrapper.classList.toggle('active');
            document.body.classList.toggle('compiler-active');
            toggleBtn.textContent = compilerWrapper.classList.contains('active') ? '‚úñ –ó–∞–∫—Ä—ã—Ç—å' : 'üñ•Ô∏è –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞';
        });
    });
</script>
{% endblock %}